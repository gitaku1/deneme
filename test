#!/bin/bash

# Dizinlerin bulunduğu txt dosyası
input_file="dizinler.txt"
# Çıktının yazılacağı dosya
output_file="output.txt"

# Çıktı dosyasını sıfırla
> "$output_file"

# Dizinleri oku
while IFS= read -r base_directory; do
    echo "Kontrol edilen dizin: $base_directory" >> "$output_file"
    
    # Yıllar
    for year in {2017..2023}; do
        # Belirtilen yıl aralığında oluşturulmuş klasörleri bul
        result=$(find "$base_directory" -maxdepth 1 -type d -newermt "$year-01-01" ! -newermt "$((year + 1))-01-01" -printf "%f\n")
        
        if [ -n "$result" ]; then
            # Eğer sonuç varsa, klasör isimlerini tam yolu ile yaz
            for folder in $result; do
                echo "$base_directory/$folder" >> "$output_file"
            done
        fi
    done
    
    echo "" >> "$output_file"  # Boş bir satır ekle
done < "$input_file"

echo "Sonuçlar $output_file dosyasına yazıldı."
