#!/bin/bash

# Dizinlerin bulunduğu txt dosyası
input_file="dizinler.txt"
# Çıktının yazılacağı dosya
output_file="output.txt"

# Çıktı dosyasını sıfırla
> "$output_file"

# Dizinleri oku
while IFS= read -r base_directory; do
    echo "Kontrol edilen dizin: $base_directory" >> "$output_file"
    
    # Yıllar
    for year in {2017..2023}; do
        # Dizin altındaki klasörleri listele ve belirtilen yılı içerenleri filtrele
        result=$(ls "$base_directory" 2>/dev/null | grep "$year")
        
        if [ -n "$result" ]; then
            # Eğer sonuç varsa, klasör isimlerini tam yolu ile yaz
            for folder in $result; do
                echo "$base_directory/$folder" >> "$output_file"
            done
        fi
    done
    
    echo "" >> "$output_file"  # Boş bir satır ekle
done < "$input_file"

echo "Sonuçlar $output_file dosyasına yazıldı."
