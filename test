import os
import datetime

# Input file name
input_file = 'input.txt'
# Output file name
output_file = 'output.txt'

# The cutoff year for 2023
year_cutoff = 2023

# Read the input file
with open(input_file, 'r') as f:
    directories = f.readlines()

# Open the output file to write
with open(output_file, 'w') as output_f:
    for directory in directories:
        directory = directory.strip()  # Remove any trailing newlines or spaces
        
        if os.path.isdir(directory):  # Check if the directory exists
            # Walk through the subdirectories
            for root, dirs, files in os.walk(directory):
                for dir_name in dirs:
                    dir_path = os.path.join(root, dir_name)
                    # Get the creation time of the folder
                    creation_time = os.path.getctime(dir_path)
                    creation_date = datetime.datetime.fromtimestamp(creation_time)
                    
                    # If the creation year is before 2023, write to the output file
                    if creation_date.year < year_cutoff:
                        output_f.write(f"{dir_path}\n")

print("Script ran successfully and the result has been written to output.txt.")
